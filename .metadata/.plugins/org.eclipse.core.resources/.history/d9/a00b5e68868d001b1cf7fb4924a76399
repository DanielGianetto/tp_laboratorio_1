/*
 ============================================================================
 Name        : Clase.c
 Author      : Daniel Gianetto
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>

float sumar(float a, float b, float* pResultado);
float restar(float a, float b, float* pResultado);
float multiplicar(float a, float b, float* pResultado);
float dividir(float a, float b, float* pResultado);

int main(void)
{
	float a;
	float b;
	float resultado;
	float retorno;

	char opcion;

	do
	{
		printf("\nIngrese el valor A: ");
		scanf("%f",&a);
		printf("Ingrese el valor B: ");
		scanf("%f",&b);

		printf("\nÂ¿Que operacion desea realizar?: \nSumar(+).\nRestar(-)\nMultiplicar(*)\nDividir(/)\nSalir(x)\n");
		fpurge(stdin);
		scanf("%c",&opcion);

		while(opcion != '+' && opcion != '-' && opcion != '*' && opcion != '/')
		{
			printf("\nOpcion invalida, intente de nuevo...");
			__fpurge(stdin);
			scanf("%c",&opcion);
		}

		switch(opcion)
		{
			case '+':
				retorno = sumar(a,b,&resultado);
				break;
			case '-':
				retorno = restar(a,b,&resultado);
				break;
			case '*':
				retorno = multiplicar(a,b,&resultado);
				break;
			case '/':
				retorno = dividir(a,b,&resultado);
				break;
		}

		if(retorno == -1)
		{
			printf("\nError\n");
		}
		else
		{
			printf("\nEl resultado es: %.2f.\n",resultado);
		}

	}while(opcion != 'x');

	return 0;
}

float sumar(float a, float b, float* pResultado)
{
	*pResultado = a+b;

	return 0;
}

float restar(float a, float b, float* pResultado)
{
	*pResultado = a-b;

	return 0;
}

float multiplicar(float a, float b, float* pResultado)
{
	*pResultado = a*b;

	return 0;
}

float dividir(float a, float b, float* pResultado)
{
	if(b==0)
	{
		return -1;
	}
	else
	{
		*pResultado = a/b;
		return 0;
	}

	/*if(b==0)
	{
		return -1;
	}

	*pResultado = a/b;
	return 0;*/
}
